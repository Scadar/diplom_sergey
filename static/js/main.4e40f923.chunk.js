(this.webpackJsonpdiplom_sergey=this.webpackJsonpdiplom_sergey||[]).push([[0],{324:function(e,t,r){},325:function(e,t,r){},332:function(e,t,r){},347:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(42),c=r.n(i),a=r(135),s=(r(324),r(325),r(355)),o=r(356),l=r(359),d=r(64),u=r(137),f=r(307),j=r(354),h=r(75),x=r(134),b=Object(x.b)({name:"cords",initialState:{stringCalculatedCords:"",stringRealCords:"",stringDiffCords:"",calculatedCords:[],realCords:[],diffCords:[]},reducers:{setStringCalculatedCords:function(e,t){e.stringCalculatedCords=t.payload},setStringRealCords:function(e,t){e.stringRealCords=t.payload},setStringDiffCords:function(e,t){e.stringDiffCords=t.payload},setCalculatedCords:function(e,t){e.calculatedCords=t.payload},setRealCords:function(e,t){e.realCords=t.payload},setDiffCords:function(e,t){e.diffCords=t.payload}}}),g=b.actions,p=g.setDiffCords,O=g.setRealCords,v=g.setStringDiffCords,y=g.setStringCalculatedCords,C=g.setStringRealCords,m=g.setCalculatedCords,w=b.reducer,S=r(16),R=function(e){var t=e.calc,r=void 0!==t&&t,n=e.real,i=void 0!==n&&n,c=Object(h.b)(),a={beforeUpload:function(e){if("text/plain"!==e.type)f.b.error("".concat(e.name," is not a txt file"));else{var t=new FileReader;t.onload=function(){r&&c(y(t.result.trim())),i&&c(C(t.result.trim()))},t.readAsText(e)}return"text/plain"===e.type||j.a.LIST_IGNORE},maxCount:1,showUploadList:!1};return Object(S.jsx)(j.a,Object(u.a)(Object(u.a)({},a),{},{children:Object(S.jsx)(d.a,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})}))},k=r(293),A=r.n(k),z=s.a.TextArea,D=function(e){var t=e.width,r=e.marginRight,n=e.title,i=e.cords,c=e.setCords,a=e.setTextAreaHeight,s=e.textAreaHeight,u=e.diff,f=e.calc,j=e.real,h=e.download,x=e.bigToString,b=e.csvData,g={};t&&(g.width="".concat(t,"%")),r&&(g.marginRight=r);var p=Object(S.jsxs)(o.a,{children:[Object(S.jsx)(o.a.Item,{onClick:h,children:Object(S.jsx)("span",{children:"TXT"})},"0"),Object(S.jsx)(o.a.Item,{children:Object(S.jsx)(A.a,{filename:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435",separator:";",columns:[{id:"x",displayName:"X"},{id:"y",displayName:"Y"},{id:"z",displayName:"Z"}],datas:b,children:"EXCEL"})},"1")]});return Object(S.jsxs)("div",{className:"InputTextArea",style:g,children:[Object(S.jsx)("span",{style:{fontSize:17,fontWeight:400},children:n}),u?Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(S.jsx)(z,{value:x(i),style:{height:s},onResize:function(e){a(e.height)}}),u&&Object(S.jsx)(l.a,{overlay:p,trigger:["click"],children:Object(S.jsx)(d.a,{style:{marginTop:15},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}):Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(S.jsx)(z,{value:i,onChange:function(e){return c(e.target.value)},style:{height:s,marginBottom:15},onResize:function(e){a(e.height)}}),f&&Object(S.jsx)(R,{calc:!0}),j&&Object(S.jsx)(R,{real:!0})]})]})},F=r(351),T=r(117),N=r.n(T),I=Object(x.b)({name:"alg",initialState:{standardDeviation:{}},reducers:{setStandardDeviation:function(e,t){e.standardDeviation=t.payload}}}),E=I.actions.setStandardDeviation,H=I.reducer,_=function(){var e=Object(h.c)((function(e){return e.cords})),t=e.stringCalculatedCords,r=e.stringRealCords,i=e.diffCords,c=Object(h.b)(),s=Object(n.useState)(400),o=Object(a.a)(s,2),l=o[0],u=o[1],j=function(e,t){var r=e.split(/\s+/),n=!1,i=[];return r.length%3===0&&(i=r.map((function(e){var t=e.replace(",",".");return t?new N.a(t):(n=!0,new N.a(0))}))),n?(f.b.error(t),[]):i},x=function(e){var t=13-e.toString().length;if(t<1)return" ";for(var r="",n=0;n<t;n++)r+=String.fromCharCode(32);return r+"\t"},b=function(e){if(!e)return null;for(var t="",r=0;r<e.length;r++)r>0&&r%3===0&&(t+="\n"),t=t+e[r]+x(e[r]);return t},g=function(e,t){for(var r=new N.a(0),n=0;n<e.length;n++){var i=e[n].minus(t);i=i.pow(2),r=r.plus(i)}return r.div(e.length).sqrt()},w=function(e){if(e&&0!==e.length){for(var t=new N.a(0),r=new N.a(0),n=new N.a(0),i=[],a=[],s=[],o=0;o<e.length;o++)(o+1)%3===1&&(t=t.plus(e[o]),i.push(e[o])),(o+1)%3===2&&(r=r.plus(e[o]),a.push(e[o])),(o+1)%3===0&&(n=n.plus(e[o]),s.push(e[o]));var l=t.div(i.length),d=r.div(a.length),u=n.div(s.length);c(E({x:g(i,l),y:g(a,d),z:g(s,u)}))}};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"InputCords_inputs",children:[Object(S.jsx)(D,{width:25,marginRight:30,title:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b",setCords:function(e){return c(y(e))},cords:t,textAreaHeight:l,setTextAreaHeight:u,calc:!0}),Object(S.jsx)(D,{width:25,marginRight:30,title:"\u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b",setCords:function(e){return c(C(e))},cords:r,textAreaHeight:l,setTextAreaHeight:u,real:!0}),Object(S.jsx)(D,{width:25,title:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435",setCords:function(e){return c(v(e))},cords:i,textAreaHeight:l,setTextAreaHeight:u,diff:!0,download:function(){var e=document.createElement("a"),t=new Blob([b(i)],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435.txt",document.body.appendChild(e),e.click()},bigToString:b,csvData:function(e){for(var t=[],r={},n=0;n<e.length;n++)(n+1)%3===1&&(r.x=e[n].toFixed()),(n+1)%3===2&&(r.y=e[n].toFixed()),(n+1)%3===0&&(r.z=e[n].toFixed(),t.push(r),r={});return t}(i)})]}),Object(S.jsx)(F.a,{style:{borderColor:"#e2e2e2",marginTop:30},children:Object(S.jsx)(d.a,{type:"primary",onClick:function(){if(t&&r){var e=j(t,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442"),n=j(r,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442");if(e.length!==n.length)return void f.b.error("\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u0438 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c");if(e.length%3!==0)return void f.b.error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b");if(n.length%3!==0)return void f.b.error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b");c(m(e)),c(O(n));var i=function(e,t){if(e.length===t.length){for(var r=[],n=0;n<e.length;n++)r.push(e[n].minus(t[n]));return r}return[]}(e,n);c(p(i)),w(i)}else f.b.error("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b")},size:"large",children:"\u0420\u0430\u0441\u0447\u0435\u0442"})})]})},L=r(357),X=(r(332),function(){var e=Object(h.c)((function(e){return e.cords})).diffCords,t=Object(n.useRef)(),r={data:function(){for(var t=0,r=0,n=0,i=[],c=0;c<e.length;c++){var a=parseFloat(e[c].toFixed());(c+1)%3===1?(i.push({index:t,value:a,type:"X"}),t++):(c+1)%3===2?(i.push({index:r,value:a,type:"Y"}),r++):(c+1)%3===0&&(i.push({index:n,value:a,type:"Z"}),n++)}return i}(),xField:"index",yField:"value",seriesField:"type",yAxis:{label:{formatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},color:["#1979C9","#D62A0D","#FAA219"]};return Object(S.jsxs)("div",{className:"Chart",children:[Object(S.jsx)(d.a,{onClick:function(){var e;null===(e=t.current)||void 0===e||e.downloadImage()},style:{marginBottom:10},children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0433\u0440\u0430\u0444\u0438\u043a"}),Object(S.jsx)(L.a,Object(u.a)(Object(u.a)({},r),{},{chartRef:t}))]})}),B=r(358),J=r(353),U=r(302),G=r.n(U),Y=r(303),Z=r.n(Y),K=function(){var e=Object(h.c)((function(e){return e.alg})).standardDeviation,t=Object(h.c)((function(e){return e.cords})).diffCords,r=Object(n.useState)([]),i=Object(a.a)(r,2),c=i[0],s=i[1],o=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(c),l={width:"50%",cursor:"pointer",textAlign:"center"};Object(n.useEffect)((function(){if(t&&t.length>0&&JSON.stringify(o)===JSON.stringify(c)){var e,r;console.log("useEffect"),Z.a.clusterize(function(e){for(var t=[],r=[],n=0;n<e.length;n++)(n+1)%3===1&&r.push(e[n].toFixed()),(n+1)%3===2&&r.push(e[n].toFixed()),(n+1)%3===0&&(r.push(e[n].toFixed()),t.push(r),r=[]);return t}(t),{k:2},(function(t,n){t?console.error(t):(e={x:d(n[0].cluster,"x"),y:d(n[0].cluster,"y"),z:d(n[0].cluster,"z"),mode:"markers",type:"scatter3d",marker:{color:"rgb(46,16,175)",size:4}},r={x:d(n[1].cluster,"x"),y:d(n[1].cluster,"y"),z:d(n[1].cluster,"z"),mode:"markers",type:"scatter3d",marker:{color:"rgb(182,19,19)",size:4}},s([e,r]))}))}}),[t,c,o]);var d=function(e,t){for(var r=[],n=[],i=[],c=0;c<e.length;c++)r.push(e[c][0]),n.push(e[c][1]),i.push(e[c][2]);return"x"===t?r:"y"===t?n:"z"===t?i:void 0};return Object(S.jsx)("div",{style:{marginTop:40},children:Object(S.jsxs)(J.a,{title:Object(S.jsx)("div",{style:{textAlign:"center"},children:"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u044b"}),children:[Object(S.jsx)(J.a.Grid,{style:l,onClick:function(){B.a.info({title:"K \u0441\u0440\u0435\u0434\u043d\u0438\u0445",content:Object(S.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(S.jsx)(G.a,{data:c,layout:{width:900,height:600,title:"K-means"}})}),width:"100%"})},children:"\u041c\u0435\u0442\u043e\u0434 k-\u0441\u0440\u0435\u0434\u043d\u0438\u0445"}),Object(S.jsx)(J.a.Grid,{style:l,onClick:function(){B.a.info({title:"\u0421\u0440\u0435\u0434\u043d\u0435\u043a\u0432\u0430\u0434\u0440\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435",content:Object(S.jsxs)("div",{style:{marginTop:30},children:[Object(S.jsxs)("p",{children:["X: ",e.x.toFixed()]}),Object(S.jsxs)("p",{children:["Y: ",e.y.toFixed()]}),Object(S.jsxs)("p",{children:["Z: ",e.z.toFixed()]})]})})},children:"\u0421\u0440\u0435\u0434\u043d\u0435\u043a\u0432\u0430\u0434\u0440\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435"})]})})};var q=function(){var e=Object(n.useState)(!1),t=Object(a.a)(e,2),r=t[0],i=t[1];return Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(_,{}),Object(S.jsx)(d.a,{onClick:function(){return i(!r)},className:"navbar__fixed",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0433\u0440\u0430\u0444\u0438\u043a"}),Object(S.jsx)(B.a,{title:"\u0413\u0440\u0430\u0444\u0438\u043a \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u044f",centered:!0,visible:r,onOk:function(){return i(!1)},onCancel:function(){return i(!1)},width:"100%",footer:null,children:Object(S.jsx)(X,{})}),Object(S.jsx)(K,{})]})})},W=(r(345),Object(x.a)({reducer:{cords:w,alg:H},middleware:function(e){return e({serializableCheck:!1})}}));c.a.render(Object(S.jsx)(h.a,{store:W,children:Object(S.jsx)(q,{})}),document.getElementById("root"))}},[[347,1,2]]]);